# 数据处理

## 什么是JSON？
1. JSON，全称为JavaScript Object Notation，是一种轻量级的数据交换格式。它基于JavaScript的子集，采用完全独立于编程语言的文本格式来存储和表示数据。JSON的语法简洁清晰，易于人阅读和编写，同时也易于机器解析和生成。
2. 在JSON中，数据以键值对的形式存在，键是字符串，值可以是字符串、数字、布尔值、数组、对象或null。数据之间使用逗号分隔，对象由花括号{}包围，数组由方括号[]包围。此外，JSON还可以转换为JavaScript对象，它使用文本表示一个JS对象的信息，本质是一个字符串。

### JSON的优点 {id="json_1"}
1. 易于阅读和编写：JSON的格式非常简洁，易于阅读和编写，使得数据交换更加方便。
2. 跨平台和跨语言：JSON不依赖于任何特定的编程语言，可以被任何支持JavaScript的解析器的读取和写入，这使得JSON成为跨平台和跨语言数据交换的理想选择。
3. 数据结构丰富：JSON支持多种数据结构，如对象、数组、字符串、数字、布尔值、null等，可以表示复杂的数据结构。
4. 支持数据验证：JSON具有严格的数据验证规则，可以确保数据的完整性和一致性。
5. 灵活性强：JSON支持多种数据类型，并且可以嵌套，这使得JSON可以表示复杂的数据结构。

### JSON的缺点 {id="json_2"}
1. 无法表达复杂的结构化信息：JSON主要针对简单和复杂的数据结构，对于一些复杂的结构化信息，如XML、HTML等，JSON无法表达。
2. 无法表达过程信息：JSON只是一种数据交换格式，无法表达过程信息，如控制流程、条件语句等。
3. 缺乏注释和说明：JSON没有提供注释和说明的语法，这使得在大型项目中，对代码的维护和理解变得困难。
4. 安全性问题：由于JSON数据是以文本形式传输的，如果未进行适当的验证和处理，可能存在安全风险，如注入攻击等。

## 什么是XML？
XML（可扩展标记语言）是一种用于存储和传输数据的标记语言。它使用一系列简单的标记描述数据，这些标记可以用方便的方式建立。

### XML的优点 {id="xml_1"}
1. 可扩展性：XML允许各个组织或个人建立适合他们自己需要的标记集合或标记库，并且这些标记集合可以迅速地投入到互联网的使用中。
2. 便于信息的检索：由于XML通过给数据内容贴上标记来描述其含义，并且把数据的显示格式分离出去，所以对XML文档数据的搜索就可以简单高效地进行。
3. 跨平台应用：XML文档是基于文本的，所以很容易被人和机器阅读，也非常容易使用，便于不同设备和不同系统间的信息交换。
4. 支持不同文字不同语种间的信息交互：XML所依赖的Unicode标准，是一个支持世界上所有主要语言的混合文字符号编码系统。
5. 为科学实践与交流提供捷径：XML可以轻松的跨平台应用，为科学实践与交流提供捷径。

### XML的缺点 {id="xml_2"}
1. 需要解析工具或类库的支持：XML需要使用解析器来读取和写入数据，这增加了开发成本。
2. 解析xml势必会影响应用程序性能，占用系统资源：解析XML需要时间和计算资源，对于大型数据集可能会影响应用程序的性能。
3. 配置文件过多导致管理变得困难：如果一个应用程序有大量的配置文件，管理这些文件可能会变得困难。
4. 编译期无法对其配置项的正确性进行验证，或要查错只能在运行期：在编译期无法验证XML配置项的正确性，只能在运行期进行验证。
5. IDE无法验证配置项的正确性无能为力：集成开发环境（IDE）无法直接验证XML配置项的正确性。
6. 查错变得困难：如果配置文件有错误，可能很难找到问题的根源。
7. 开发人员不得不同时维护代码和配置文件，开发效率变得低下：开发人员需要同时维护代码和XML配置文件，这可能会降低开发效率。
8. 配置项与代码间存在潜规则：改变任何一方都有可能影响另外一方。

## JSON和XML的区别
1. XML它是用于RPC远程调用数据交换格式,因为XML文件格式复杂，比较占宽带，不易于维护，服务器端与客户端解析xml花费较多的资源和时间。
2. JSON它是用于RPC远程调用数据交换格式,因为JSON文件格式压缩，占宽带小，易于维护。
3. 在编码方面
    - 虽然XML和JSON都有各自的编码工具，但是JSON的编码要比XML简单，即使不借助工具，也可以写出JSON代码，但要写出好的XML代码就有点困难;与XML一样，JSON也是基于文本的，且它们都使用Unicode(U ni kou de)编码，且其与数据交换格式XML一样具有可读性。
    - 主观上来看，JSON更为清晰且冗余更少些。JSON网站提供了对JSON语法的严格描述，只是描述较简短。从总体来看，XML比较适合于标记文档，而JSON却更适于进行数据交换处理。
4. 在解析方面
    - 在普通的web应用领域，开发者经常为XML的解析伤脑筋，无论是服务器端生成或处理XML，还是客户端用 JavaScript 解析XML，都常常导致复杂的代码，极低的开发效率。
    - 实际上，对于大多数Web应用来说，他们根本不需要复杂的XML来传输数据，XML宣称的扩展性在此就很少具有优势,许多Ajax应用甚至直接返回HTML片段来构建动态Web页面。和返回XML并解析它相比，返回HTML片段大大降低了系统的复杂性，但同时缺少了一定的灵活性。同XML或HTML片段相比，数据交换格式JSON 提供了更好的简单性和灵活性。在Web Serivice应用中，至少就目前来说XML仍有不可动摇的地位。


## 什么是FreeMarker？
FreeMarker是一个用java语言编写的模块引擎，它基本模块来生成文本输出。FreeMarker与web容器无关，即在web运行时，它并不知道Servlet或HTTP。它不仅可以用作表现层的实现技术，而且还可以用于生成xml、jsp或java等。

## FreeMarker的优点 {id="freemarker_1"}
1. 职责明确，功能专注：FreeMarker的职责是负责页面的展示，从而去掉了繁琐的逻辑代码，使得职责明确，功能专注。
2. 降低耦合度：使用FreeMarker后，前后端完全分离，开发人员可以各干各的，互不影响，降低了耦合度。
3. 简单易用，功能强大：FreeMarker支持JSP标签，同时内置了大量常用功能，比如html过滤、日期金额格式化等等。FreeMarker代码十分简洁，上手快，使用非常方便。
4. 提高开发效率：FreeMarker模板技术不存在编译和转换的问题，所以就不会存在上述问题。而且开发过程中，开发人员不必等待界面设计开发人员完成页面原形后，再开始开发程序。
5. 使得开发过程中的人员分工更加明确：以往用JSP展现数据时，作为程序员的我们，并不熟悉界面设计技术，反之界面开发人员，也并不熟悉程序语言。对两者而言，交替性的工作本身就有难度。使用FreeMarker后，可以使得开发过程中的人员分工更加明确。

## FreeMarker的缺点 {id="freemarker_2"}
1. 对性能有一定要求：如果性能要求高，或者页面渲染非常频繁，那么FreeMarker可能不是最好的选择，因为FreeMarker模板在每次请求时都需要重新解析和渲染，这会增加服务器的负担。
2. 功能有限：虽然FreeMarker简单易用，但其功能相对有限，一些复杂的动态操作可能不如使用脚本语言或者ORM框架方便。
3. 页面维护困难：当页面中的数据结构发生改变时，需要修改模板中的数据绑定，这可能会使得模板的维护变得困难。
4. 无法处理复杂逻辑：FreeMarker主要用于生成静态的HTML页面，对于复杂的逻辑处理可能不太适合。
5. 无法进行精确的数据类型处理：FreeMarker的map限定key必须是string，其他数据类型无法操作。
6. 不支持集群应用：FreeMarker不支持集群应用，如果将应用放到集群中，会出现错误。

## 什么是dom4j？
1. dom4j是一个Java的XML API，用于读写XML文件。
2. 它是一个优秀的Java XML API，具有性能优异、功能强大和易于使用的特点。
3. dom4j是一个开源的软件，可以在SourceForge上找到它。
4. dom4j的设计思想是使用SAX的思想读取XML和使用DOM的思想在内存中创建一颗对象关系树。
5. dom4j提供了核心接口，可以方便地创建对象并使用DocumentFactory来创建接口实例。
6. dom4j还提供了对Xpath、XSLT和索引的支持，使得它成为Java XML处理的优秀工具之一。

